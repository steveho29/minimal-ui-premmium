(self.webpackChunk_minimal_material_kit_react=self.webpackChunk_minimal_material_kit_react||[]).push([[1541],{50103:function(t,e,n){"use strict";n.d(e,{Z:function(){return f}});var r=n(1413),i=n(45987),a=n(57829),o=n(61113),s=n(90891),c=n(29466),l=n(3404),d=n(46417),u=["links","activeLast"];function h(t){var e=t.links,n=t.activeLast,s=void 0!==n&&n,c=(0,i.Z)(t,u),h=e[e.length-1].name,p=e.map((function(t){return(0,d.jsx)(x,{link:t},t.name)})),f=e.map((function(t){return(0,d.jsx)("div",{children:t.name!==h?(0,d.jsx)(x,{link:t}):(0,d.jsx)(o.Z,{variant:"body2",sx:{maxWidth:260,overflow:"hidden",whiteSpace:"nowrap",color:"text.disabled",textOverflow:"ellipsis"},children:h})},t.name)}));return(0,d.jsx)(l.Z,(0,r.Z)((0,r.Z)({separator:(0,d.jsx)(a.Z,{component:"span",sx:{width:4,height:4,borderRadius:"50%",bgcolor:"text.disabled"}})},c),{},{children:s?p:f}))}function x(t){var e=t.link,n=e.href,r=e.name,i=e.icon;return(0,d.jsxs)(s.Z,{variant:"body2",component:c.rU,to:n||"#",sx:{lineHeight:2,display:"flex",alignItems:"center",color:"text.primary","& > div":{display:"inherit"}},children:[i&&(0,d.jsx)(a.Z,{sx:{mr:1,"& svg":{width:20,height:20}},children:i}),r]},r)}var p=["links","action","heading","moreLink","sx"];function f(t){var e=t.links,n=t.action,c=t.heading,l=t.moreLink,u=void 0===l?[]:l,x=t.sx,f=(0,i.Z)(t,p);return(0,d.jsxs)(a.Z,{sx:(0,r.Z)({mb:5},x),children:[(0,d.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,d.jsxs)(a.Z,{sx:{flexGrow:1},children:[(0,d.jsx)(o.Z,{variant:"h4",gutterBottom:!0,children:c}),(0,d.jsx)(h,(0,r.Z)({links:e},f))]}),n&&(0,d.jsx)(a.Z,{sx:{flexShrink:0},children:n})]}),(0,d.jsx)(a.Z,{sx:{mt:2},children:"string"===typeof u?(0,d.jsx)(s.Z,{href:u,target:"_blank",rel:"noopener",variant:"body2",children:u}):u.map((function(t){return(0,d.jsx)(s.Z,{noWrap:!0,href:t,variant:"body2",target:"_blank",rel:"noopener",sx:{display:"table"},children:t},t)}))})]})}},36693:function(t,e,n){"use strict";var r=n(4942),i=n(1413),a=n(17592),o=n(15082),s=(0,a.ZP)(o.Z,{shouldForwardProp:function(t){return"stretchStart"!==t}})((function(t){var e=t.stretchStart,n=t.theme;return{"& .MuiOutlinedInput-root":(0,i.Z)({transition:n.transitions.create(["box-shadow","width"],{easing:n.transitions.easing.easeInOut,duration:n.transitions.duration.shorter}),"&.Mui-focused":{boxShadow:n.customShadows.z12}},e&&{width:e,"&.Mui-focused":(0,r.Z)({boxShadow:n.customShadows.z12},n.breakpoints.up("sm"),{width:e+60})}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(n.palette.grey[50032]," !important")}}}));e.Z=s},21481:function(t,e,n){"use strict";n.d(e,{Z:function(){return p}});var r=n(45987),i=n(1413),a=n(47313),o=n(68278),s=n(19860),c=n(17551),l=n(70499),d=n(61113),u=n(46417),h=["images","photoIndex","setPhotoIndex","isOpen"];function x(){var t=(0,s.Z)(),e="rtl"===t.direction,n=t.palette.grey[600].replace("#",""),r=function(t){return"url(https://api.iconify.design/carbon/".concat(t,".svg?color=%23").concat(n,"&width=").concat(32,"&height=").concat(32,")")},a=function(e){return{opacity:1,alignItems:"center",display:"inline-flex",justifyContent:"center",backgroundImage:"unset",backgroundColor:"transparent",transition:t.transitions.create("opacity"),"&:before":{display:"block",width:32,height:32,content:r(e)},"&:hover":{opacity:.72}}};return(0,u.jsx)(l.Z,{styles:{"& .ReactModalPortal":{"& .ril__outer":{backgroundColor:(0,c.Fq)(t.palette.grey[900],.96)},"& .ril__toolbar":{height:"auto !important",padding:t.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-of-type":{flexGrow:1},"& li:not(:first-of-type)":{width:40,height:40,justifyContent:"center",marginLeft:t.spacing(2)}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":a("zoom-in"),"&.ril__zoomOutButton":a("zoom-out"),"&.ril__closeButton":a("close")},"& .ril__navButtons":{padding:t.spacing(3),"&.ril__navButtonPrev":(0,i.Z)({right:"auto",left:t.spacing(2)},a(e?"arrow-right":"arrow-left")),"&.ril__navButtonNext":(0,i.Z)({left:"auto",right:t.spacing(2)},a(e?"arrow-left":"arrow-right"))}}}})}function p(t){var e=t.images,n=t.photoIndex,s=t.setPhotoIndex,c=t.isOpen,l=(0,r.Z)(t,h);(0,a.useEffect)((function(){document.body.style.overflow=c?"hidden":""}),[c]);var p=[(0,u.jsx)(d.Z,{variant:"subtitle2",children:"".concat(n+1," / ").concat(e.length)})];return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(x,{}),c&&(0,u.jsx)(o.Z,(0,i.Z)({animationDuration:160,nextSrc:e[(n+1)%e.length],prevSrc:e[(n+e.length-1)%e.length],onMovePrevRequest:function(){return s((n+e.length-1)%e.length)},onMoveNextRequest:function(){return s((n+1)%e.length)},toolbarButtons:p,reactModalStyle:{overlay:{zIndex:9999}}},l))]})}},46349:function(t,e,n){"use strict";n.d(e,{h:function(){return m}});var r=n(1413),i=n(29439),a=n(45987),o=n(26638),s=n(92612),c=n(47313),l=n(19860),d=n(17551),u=n(70499),h=n(31685),x=n(57829),p=n(47131),f=n(82295),v=n(24185),g=n(46417),Z=["value","setValue","disabled","sx"];function m(t){var e=t.value,n=t.setValue,m=t.disabled,j=t.sx,b=(0,a.Z)(t,Z),w=(0,l.Z)(),y=(0,c.useRef)(null),k=(0,c.useState)(!1),C=(0,i.Z)(k,2),S=C[0],I=C[1];(0,c.useEffect)((function(){new s.cW((0,r.Z)({ref:y,data:o,onEmojiSelect:function(t){return n(e+(null===t||void 0===t?void 0:t.native))}},b))}),[S]);var P=function(t){return(0,d.oo)(t).replace("rgb(","").replace(")","")};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(u.Z,{styles:{"#root":{"--color-border":w.palette.divider,"--rgb-accent":P(w.palette.primary.main),"--rgb-background":P(w.palette.background.paper),"--rgb-color":P(w.palette.text.secondary),"--rgb-input":"transparent"}}}),(0,g.jsx)(h.Z,{onClickAway:function(){return I(!1)},children:(0,g.jsxs)(x.Z,{sx:{position:"relative"},children:[(0,g.jsx)(p.Z,{disabled:m,size:"small",onClick:function(){return I(!S)},children:(0,g.jsx)(v.Z,{icon:"eva:smiling-face-fill",width:20,height:20})}),S&&(0,g.jsx)(f.Z,{ref:y,sx:(0,r.Z)({bottom:36,position:"absolute",boxShadow:function(t){return t.customShadows.dropdown}},j)})]})})]})}},98675:function(t,e,n){"use strict";n.d(e,{i4:function(){return g},Ml:function(){return f},bB:function(){return v},VJ:function(){return o},M2:function(){return l},Ti:function(){return c},JJ:function(){return h}});var r=n(46417);var i=n(84488),a=n(57829);function o(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{width:"100%",height:560,variant:"rectangular",sx:{borderRadius:2}}),(0,r.jsxs)(a.Z,{sx:{mt:3,display:"flex",alignItems:"center"},children:[(0,r.jsx)(i.Z,{variant:"circular",width:64,height:64}),(0,r.jsxs)(a.Z,{sx:{flexGrow:1,ml:2},children:[(0,r.jsx)(i.Z,{variant:"text",height:20}),(0,r.jsx)(i.Z,{variant:"text",height:20}),(0,r.jsx)(i.Z,{variant:"text",height:20})]})]})]})}var s=n(9019);function c(){return(0,r.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,r.jsx)(s.ZP,{item:!0,xs:12,md:6,lg:7,children:(0,r.jsx)(i.Z,{variant:"rectangular",width:"100%",sx:{paddingTop:"100%",borderRadius:2}})}),(0,r.jsxs)(s.ZP,{item:!0,xs:12,md:6,lg:5,children:[(0,r.jsx)(i.Z,{variant:"circular",width:80,height:80}),(0,r.jsx)(i.Z,{variant:"text",height:240}),(0,r.jsx)(i.Z,{variant:"text",height:40}),(0,r.jsx)(i.Z,{variant:"text",height:40}),(0,r.jsx)(i.Z,{variant:"text",height:40})]})]})}function l(){return(0,r.jsxs)(s.ZP,{item:!0,xs:12,sm:6,md:3,children:[(0,r.jsx)(i.Z,{variant:"rectangular",width:"100%",sx:{height:200,borderRadius:2}}),(0,r.jsxs)(a.Z,{sx:{display:"flex",mt:1.5},children:[(0,r.jsx)(i.Z,{variant:"circular",sx:{width:40,height:40}}),(0,r.jsx)(i.Z,{variant:"text",sx:{mx:1,flexGrow:1}})]})]})}var d=n(73428),u=n(35898);function h(){return(0,r.jsxs)(d.Z,{children:[(0,r.jsx)(i.Z,{variant:"rectangular",sx:{paddingTop:"100%"}}),(0,r.jsxs)(u.Z,{spacing:2,sx:{p:3},children:[(0,r.jsx)(i.Z,{variant:"text",sx:{width:.5}}),(0,r.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,r.jsxs)(u.Z,{direction:"row",children:[(0,r.jsx)(i.Z,{variant:"circular",sx:{width:16,height:16}}),(0,r.jsx)(i.Z,{variant:"circular",sx:{width:16,height:16}}),(0,r.jsx)(i.Z,{variant:"circular",sx:{width:16,height:16}})]}),(0,r.jsx)(i.Z,{variant:"text",sx:{width:40}})]})]})]})}var x=n(93433),p=n(82295);function f(){return(0,r.jsx)(a.Z,{sx:{display:"grid",gap:3,gridTemplateColumns:"repeat(4, 1fr)"},children:(0,x.Z)(Array(3)).map((function(t,e){return(0,r.jsx)(p.Z,{variant:"outlined",sx:{p:2.5,width:310},children:(0,r.jsxs)(u.Z,{spacing:2,children:[(0,r.jsx)(i.Z,{variant:"rectangular",sx:{paddingTop:"75%",borderRadius:1.5}}),0===e&&(0,r.jsx)(i.Z,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}}),2!==e&&(0,r.jsx)(i.Z,{variant:"rectangular",sx:{paddingTop:"25%",borderRadius:1.5}})]})},e)}))})}function v(){return(0,r.jsxs)(u.Z,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1},children:[(0,r.jsx)(i.Z,{variant:"circular",width:32,height:32}),(0,r.jsx)(i.Z,{variant:"text",sx:{width:.25,height:16}})]})}function g(){return(0,r.jsxs)(u.Z,{spacing:1,direction:"row",alignItems:"center",sx:{px:3,py:1.5},children:[(0,r.jsx)(i.Z,{variant:"circular",width:48,height:48}),(0,r.jsxs)(u.Z,{spacing:.5,sx:{flexGrow:1},children:[(0,r.jsx)(i.Z,{variant:"text",sx:{width:.5,height:16}}),(0,r.jsx)(i.Z,{variant:"text",sx:{width:.25,height:12}})]})]})}},51541:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return Ie}});var r=n(47313),i=n(70178),a=n(73428),o=n(1738),s=n(88816),c=n(76025),l=n(50177),d=n(22227),u=n(50103),h=n(1413),x=n(29439),p=n(22650),f=n(57829),v=n(35898),g=n(61113),Z=n(61689),m=n(47131),j=n(19536),b=n(48310),w=n(51405),y=n(23931),k=n(1229),C=n(24185),S=n(99633),I=n(45358),P=n(25324),R=n(46417),M=["online","invisible","away"];function T(){var t=(0,k.Z)().user,e=(0,r.useState)("online"),n=(0,x.Z)(e,2),i=n[0],a=n[1],o=(0,r.useState)(null),s=(0,x.Z)(o,2),c=s[0],l=s[1],d={mr:2,width:20,height:20};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(f.Z,{sx:{position:"relative"},children:[(0,R.jsx)(S.Z,{onClick:function(t){l(t.currentTarget)},sx:{cursor:"pointer",width:48,height:48}}),(0,R.jsx)(P.Z,{status:i,sx:{position:"absolute",bottom:2,right:2}})]}),(0,R.jsxs)(I.Z,{open:Boolean(c),anchorEl:c,onClose:function(){l(null)},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},arrow:"left-top",sx:{p:0,ml:.5,width:"auto"},children:[(0,R.jsxs)(v.Z,{direction:"row",alignItems:"center",spacing:2,sx:{py:2,pr:1,pl:2.5},children:[(0,R.jsxs)("div",{children:[(0,R.jsx)(g.Z,{noWrap:!0,variant:"subtitle1",children:null===t||void 0===t?void 0:t.displayName}),(0,R.jsx)(g.Z,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:null===t||void 0===t?void 0:t.email})]}),(0,R.jsx)(Z.Z,{title:"Log out",children:(0,R.jsx)(m.Z,{color:"error",children:(0,R.jsx)(C.Z,{icon:"ic:round-power-settings-new",width:20,height:20})})})]}),(0,R.jsx)(j.Z,{}),(0,R.jsxs)(b.Z,{sx:{px:1,"& .MuiMenuItem-root":{py:1,px:2,typography:"body2",borderRadius:.75}},children:[(0,R.jsxs)(w.Z,{children:[(0,R.jsx)(P.Z,{size:"large",status:i,sx:{m:.5,flexShrink:0}}),(0,R.jsx)(y.Z,{native:!0,fullWidth:!0,value:i,onChange:function(t){return a(t.target.value)},sx:{ml:2,"& svg":{display:"none"},"& select":{p:0,typography:"body2"},"& fieldset":{display:"none"}},children:M.map((function(t){return(0,R.jsx)("option",{value:t,children:(0,p.I)(t)},t)}))})]}),(0,R.jsxs)(w.Z,{children:[(0,R.jsx)(C.Z,{icon:"ic:round-account-box",sx:(0,h.Z)({},d)}),"Profile"]}),(0,R.jsxs)(w.Z,{children:[(0,R.jsx)(C.Z,{icon:"eva:settings-2-fill",sx:(0,h.Z)({},d)}),"Settings"]})]})]})]})}var _=n(31685),D=n(41727),O=n(36693);function W(t){var e=t.query,n=t.onChange,r=t.onFocus,i=t.onClickAway;return(0,R.jsx)(_.Z,{onClickAway:i,children:(0,R.jsx)(O.Z,{fullWidth:!0,size:"small",value:e,onFocus:r,onChange:n,placeholder:"Search contacts...",InputProps:{startAdornment:(0,R.jsx)(D.Z,{position:"start",children:(0,R.jsx)(C.Z,{icon:"eva:search-fill",sx:{color:"text.disabled",width:20,height:20}})})},sx:{mt:2}})})}var A=n(5025),z=n(7781),B=n(93601),F=n(51166),E=n(55456),L=n(34800),G=6e4,N=1440,U=43200,q=525600;function H(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,L.Z)(2,arguments);var r=n.locale||E.Z;if(!r.formatDistance)throw new RangeError("locale must contain localize.formatDistance property");var i=(0,z.Z)(t,e);if(isNaN(i))throw new RangeError("Invalid time value");var a,o,s=(0,F.Z)(n);s.addSuffix=Boolean(n.addSuffix),s.comparison=i,i>0?(a=(0,B.Z)(e),o=(0,B.Z)(t)):(a=(0,B.Z)(t),o=(0,B.Z)(e));var c,l=null==n.roundingMethod?"round":String(n.roundingMethod);if("floor"===l)c=Math.floor;else if("ceil"===l)c=Math.ceil;else{if("round"!==l)throw new RangeError("roundingMethod must be 'floor', 'ceil' or 'round'");c=Math.round}var d,u=o.getTime()-a.getTime(),h=u/G,x=(0,A.Z)(o)-(0,A.Z)(a),p=(u-x)/G;if("second"===(d=null==n.unit?h<1?"second":h<60?"minute":h<N?"hour":p<U?"day":p<q?"month":"year":String(n.unit))){var f=c(u/1e3);return r.formatDistance("xSeconds",f,s)}if("minute"===d){var v=c(h);return r.formatDistance("xMinutes",v,s)}if("hour"===d){var g=c(h/60);return r.formatDistance("xHours",g,s)}if("day"===d){var Z=c(p/N);return r.formatDistance("xDays",Z,s)}if("month"===d){var m=c(p/U);return 12===m&&"month"!==n.unit?r.formatDistance("xYears",1,s):r.formatDistance("xMonths",m,s)}if("year"===d){var j=c(p/q);return r.formatDistance("xYears",j,s)}throw new RangeError("unit must be 'second', 'minute', 'hour', 'day', 'month' or 'year'")}function Y(t,e){return(0,L.Z)(1,arguments),H(t,Date.now(),e)}var V=n(17592),J=n(89840),K=n(32600),Q=n(63585),$=n(83213),X=(0,V.ZP)(J.Z)((function(t){var e=t.theme;return{padding:e.spacing(1.5,3),transition:e.transitions.create("all")}})),tt=(0,V.ZP)("div")((function(t){t.theme;return{position:"relative",width:48,height:48,"& .MuiAvatar-img":{borderRadius:"50%"},"& .MuiAvatar-root":{width:"100%",height:"100%"}}}));function et(t){var e=t.isSelected,n=t.conversation,r=t.isOpenSidebar,i=t.onSelectConversation,a=nt(n,"8864c717-587d-472a-929a-8e5f298024da-0"),o=n.messages[n.messages.length-1].createdAt,s=a.otherParticipants.length>1,c=n.unreadCount>0,l=s&&a.otherParticipants.map((function(t){return t.status})).includes("online");return(0,R.jsxs)(X,{onClick:i,sx:(0,h.Z)({},e&&{bgcolor:"action.selected"}),children:[(0,R.jsx)(K.Z,{children:(0,R.jsxs)(f.Z,{sx:(0,h.Z)({},s&&{position:"relative",width:48,height:48,"& .avatarWrapper":{position:"absolute",width:32,height:32,"&:nth-of-type(1)":{left:0,zIndex:9,bottom:2,"& .MuiAvatar-root":{border:function(t){return"solid 2px ".concat(t.palette.background.paper)}}},"&:nth-of-type(2)":{top:2,right:0}}}),children:[a.otherParticipants.slice(0,2).map((function(t){return(0,R.jsxs)(tt,{className:"avatarWrapper",children:[(0,R.jsx)(Q.Z,{alt:t.name,src:t.avatar}),!s&&(null===t||void 0===t?void 0:t.status)&&(0,R.jsx)(P.Z,{status:t.status,sx:{right:2,bottom:2,position:"absolute"}})]},t.id)})),l&&(0,R.jsx)(P.Z,{status:"online",sx:{right:2,bottom:2,position:"absolute"}})]})}),r&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)($.Z,{primary:a.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:a.displayText,secondaryTypographyProps:{noWrap:!0,variant:c?"subtitle2":"body2",color:c?"textPrimary":"textSecondary"}}),(0,R.jsxs)(f.Z,{sx:{ml:2,height:44,display:"flex",alignItems:"flex-end",flexDirection:"column"},children:[(0,R.jsx)(f.Z,{sx:{mb:1.25,fontSize:12,lineHeight:"22px",whiteSpace:"nowrap",color:"text.disabled"},children:Y(new Date(o),{addSuffix:!1})}),c&&(0,R.jsx)(P.Z,{status:"unread",size:"small"})]})]})]})}var nt=function(t,e){var n=t.participants.filter((function(t){return t.id!==e})),r=n.map((function(t){return t.name})).join(", "),i="",a=t.messages[t.messages.length-1];if(a){var o=a.senderId===e?"You: ":"",s="image"===a.contentType?"Sent a photo":a.body;i="".concat(o).concat(s)}return{otherParticipants:n,displayNames:r,displayText:i}},rt=n(93433),it=n(45987),at=n(97890),ot=n(98675),st=["conversations","isOpenSidebar","activeConversationId","sx"];function ct(t){var e=t.conversations,n=t.isOpenSidebar,r=t.activeConversationId,i=t.sx,a=(0,it.Z)(t,st),o=(0,at.s0)(),s=!e.allIds.length;return(0,R.jsx)(b.Z,(0,h.Z)((0,h.Z)({disablePadding:!0,sx:i},a),{},{children:(s?(0,rt.Z)(Array(12)):e.allIds).map((function(t,i){return t?(0,R.jsx)(et,{isOpenSidebar:n,conversation:e.byId[t],isSelected:r===t,onSelectConversation:function(){return function(t){var n="",r=e.byId[t];if("GROUP"===r.type)n=r.id;else{var i=r.participants.find((function(t){return"8864c717-587d-472a-929a-8e5f298024da-0"!==t.id}));null!==i&&void 0!==i&&i.username&&(n=null===i||void 0===i?void 0:i.username)}o(c.vB.chat.view(n))}(t)}},t):(0,R.jsx)(ot.i4,{},i)}))}))}var lt=n(4942),dt=n(83870),ut=n.n(dt),ht=n(46642),xt=n.n(ht),pt=n(17551),ft=n(19065),vt=n(66212),gt=n(15082),Zt=n(52404),mt=(0,V.ZP)("div")((function(t){return{display:"flex",alignItems:"center",padding:t.theme.spacing(2,3)}})),jt=(0,V.ZP)("div")((function(t){var e=t.theme;return{"& .MuiAutocomplete-root":(0,lt.Z)({width:240,marginLeft:e.spacing(2),"&.Mui-focused .MuiAutocomplete-inputRoot":{boxShadow:e.customShadows.z8}},e.breakpoints.up("sm"),{width:280}),"& .MuiAutocomplete-inputRoot":{transition:e.transitions.create("box-shadow",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(e.palette.grey[50032]," !important")}}}}));function bt(t){var e=t.contacts,n=t.recipients,i=t.onAddRecipients,a=(0,r.useState)(""),o=(0,x.Z)(a,2),s=o[0],c=o[1];return(0,R.jsxs)(mt,{children:[(0,R.jsx)(g.Z,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),(0,R.jsx)(jt,{children:(0,R.jsx)(ft.Z,{multiple:!0,size:"small",disablePortal:!0,popupIcon:null,noOptionsText:(0,R.jsx)(Zt.Z,{searchQuery:s}),onChange:function(t,e){return function(t){c(""),i(t)}(e)},onInputChange:function(t,e){return c(e)},options:e,getOptionLabel:function(t){return t.name},renderOption:function(t,e,n){var r=n.inputValue,i=n.selected,a=e.name,o=e.avatar,s=xt()(a,r),c=ut()(a,s);return(0,R.jsxs)(f.Z,(0,h.Z)((0,h.Z)({component:"li",sx:{p:"12px !important"}},t),{},{children:[(0,R.jsxs)(f.Z,{sx:{mr:1.5,width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[(0,R.jsx)(Q.Z,{alt:a,src:o}),(0,R.jsx)(f.Z,{sx:(0,h.Z)({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(t){return(0,pt.Fq)(t.palette.grey[900],.8)},transition:function(t){return t.transitions.create("opacity",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter})}},i&&{opacity:1,color:"primary.main"}),children:(0,R.jsx)(C.Z,{icon:"eva:checkmark-fill",width:20,height:20})})]}),c.map((function(t,e){return(0,R.jsx)(g.Z,{variant:"subtitle2",color:t.highlight?"primary":"textPrimary",children:t.text},e)}))]}))},renderTags:function(t,e){return t.map((function(t,n){var i=t.id,a=t.name,o=t.avatar;return(0,r.createElement)(vt.Z,(0,h.Z)((0,h.Z)({},e({index:n})),{},{key:i,size:"small",label:a,color:"info",avatar:(0,R.jsx)(Q.Z,{alt:a,src:o})}))}))},renderInput:function(t){return(0,R.jsx)(gt.Z,(0,h.Z)((0,h.Z)({},t),{},{placeholder:0===n.length?"Recipients":""}))}})})]})}var wt=n(76017),yt=n(90891),kt=n(57843),Ct=(0,V.ZP)("div")((function(t){return{flexShrink:0,minHeight:92,display:"flex",alignItems:"center",padding:t.theme.spacing(0,3)}}));function St(t){var e=t.participants,n=e.length>1;return(0,R.jsxs)(Ct,{children:[n?(0,R.jsx)(Pt,{participants:e}):(0,R.jsx)(It,{participants:e}),(0,R.jsx)(f.Z,{sx:{flexGrow:1}}),(0,R.jsx)(m.Z,{children:(0,R.jsx)(C.Z,{icon:"eva:phone-fill",width:20,height:20})}),(0,R.jsx)(m.Z,{children:(0,R.jsx)(C.Z,{icon:"eva:video-fill",width:20,height:20})}),(0,R.jsx)(m.Z,{children:(0,R.jsx)(C.Z,{icon:"eva:more-vertical-fill",width:20,height:20})})]})}function It(t){var e=t.participants,n=(0,rt.Z)(e)[0];return void 0!==n&&n.status?(0,R.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,R.jsxs)(f.Z,{sx:{position:"relative"},children:[(0,R.jsx)(Q.Z,{src:n.avatar,alt:n.name}),(0,R.jsx)(P.Z,{status:n.status,sx:{position:"absolute",right:2,bottom:2}})]}),(0,R.jsxs)(f.Z,{sx:{ml:2},children:[(0,R.jsx)(g.Z,{variant:"subtitle2",children:n.name}),(0,R.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:"offline"!==n.status?(0,p.I)(n.status):(0,kt.DY)(n.lastActivity||"")})]})]}):null}function Pt(t){var e=t.participants;return(0,R.jsxs)("div",{children:[(0,R.jsx)(wt.Z,{max:3,sx:{mb:.5,"& .MuiAvatar-root":{width:32,height:32}},children:e.map((function(t){return(0,R.jsx)(Q.Z,{alt:t.name,src:t.avatar},t.id)}))}),(0,R.jsx)(yt.Z,{variant:"body2",underline:"none",component:"button",color:"text.secondary",onClick:function(){},children:(0,R.jsxs)(f.Z,{sx:{display:"flex",alignItems:"center"},children:[e.length," persons",(0,R.jsx)(C.Z,{icon:"eva:arrow-ios-forward-fill"})]})})]})}var Rt=n(56605),Mt=n(90419),Tt=n(46349),_t=(0,V.ZP)("div")((function(t){return{minHeight:56,display:"flex",position:"relative",alignItems:"center",paddingLeft:t.theme.spacing(2)}}));function Dt(t){var e=t.disabled,n=t.conversationId,i=t.onSend,a=(0,r.useRef)(null),o=(0,r.useState)(""),s=(0,x.Z)(o,2),c=s[0],l=s[1],d=function(){var t;null===(t=a.current)||void 0===t||t.click()},u=function(){return c?(i&&n&&i({conversationId:n,messageId:(0,Mt.Z)(),message:c,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),l("")):""};return(0,R.jsxs)(_t,{children:[(0,R.jsx)(Rt.Z,{disabled:e,fullWidth:!0,value:c,disableUnderline:!0,onKeyUp:function(t){"Enter"===t.key&&u()},onChange:function(t){return l(t.target.value)},placeholder:"Type a message",startAdornment:(0,R.jsx)(D.Z,{position:"start",children:(0,R.jsx)(Tt.h,{disabled:e,value:c,setValue:l})}),endAdornment:(0,R.jsxs)(v.Z,{direction:"row",spacing:1,sx:{flexShrink:0,mr:1.5},children:[(0,R.jsx)(m.Z,{disabled:e,size:"small",onClick:d,children:(0,R.jsx)(C.Z,{icon:"ic:round-add-photo-alternate",width:22,height:22})}),(0,R.jsx)(m.Z,{disabled:e,size:"small",onClick:d,children:(0,R.jsx)(C.Z,{icon:"eva:attach-2-fill",width:22,height:22})}),(0,R.jsx)(m.Z,{disabled:e,size:"small",children:(0,R.jsx)(C.Z,{icon:"eva:mic-fill",width:22,height:22})})]})}),(0,R.jsx)(j.Z,{orientation:"vertical",flexItem:!0}),(0,R.jsx)(m.Z,{color:"primary",disabled:!c,onClick:u,sx:{mx:1},children:(0,R.jsx)(C.Z,{icon:"ic:round-send",width:22,height:22})}),(0,R.jsx)("input",{type:"file",ref:a,style:{display:"none"}})]})}var Ot=n(25937),Wt=(0,V.ZP)("div")((function(t){return{display:"flex",marginBottom:t.theme.spacing(3)}})),At=(0,V.ZP)("div")((function(t){var e=t.theme;return{display:"inline-block",maxWidth:320,padding:e.spacing(1.5),marginTop:e.spacing(.5),borderRadius:e.shape.borderRadius,backgroundColor:e.palette.background.neutral}})),zt=(0,V.ZP)(g.Z)((function(t){var e=t.theme;return{display:"flex",marginBottom:e.spacing(.75),color:e.palette.text.secondary}}));function Bt(t){var e=t.message,n=t.conversation,r=t.onOpenLightbox,i=n.participants.find((function(t){return t.id===e.senderId})),a="8864c717-587d-472a-929a-8e5f298024da-0"===e.senderId?{type:"me"}:{avatar:null===i||void 0===i?void 0:i.avatar,name:null===i||void 0===i?void 0:i.name},o="me"===a.type,s="image"===e.contentType,c=a.name&&a.name.split(" ")[0];return(0,R.jsx)(Wt,{children:(0,R.jsxs)(f.Z,{sx:(0,h.Z)({display:"flex"},o&&{ml:"auto"}),children:["me"!==a.type&&(0,R.jsx)(Q.Z,{alt:a.name,src:a.avatar,sx:{width:32,height:32,mr:2}}),(0,R.jsxs)("div",{children:[(0,R.jsxs)(zt,{variant:"caption",sx:(0,h.Z)({},o&&{justifyContent:"flex-end"}),children:[!o&&"".concat(c,","),"\xa0",Y(new Date(e.createdAt),{addSuffix:!0})]}),(0,R.jsx)(At,{sx:(0,h.Z)((0,h.Z)({},o&&{color:"grey.800",bgcolor:"primary.lighter"}),s&&{p:0}),children:s?(0,R.jsx)(Ot.Z,{alt:"attachment",src:e.body,onClick:function(){return r(e.body)},sx:{borderRadius:1,cursor:"pointer","&:hover":{opacity:.8}}}):(0,R.jsx)(g.Z,{variant:"body2",children:e.body})})]})]})})}var Ft=n(95463),Et=n(21481);function Lt(t){var e=t.conversation,n=(0,r.useRef)(null),i=(0,r.useState)(!1),a=(0,x.Z)(i,2),o=a[0],s=a[1],c=(0,r.useState)(0),l=(0,x.Z)(c,2),d=l[0],u=l[1];(0,r.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[e.messages]);var h=e.messages.filter((function(t){return"image"===t.contentType})).map((function(t){return t.body})),p=function(t){var e=h.findIndex((function(e){return e===t}));s(!0),u(e)};return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Ft.Z,{scrollableNodeProps:{ref:n},sx:{p:3,height:1},children:e.messages.map((function(t){return(0,R.jsx)(Bt,{message:t,conversation:e,onOpenLightbox:p},t.id)}))}),(0,R.jsx)(Et.Z,{images:h,mainSrc:h[d],photoIndex:d,setPhotoIndex:u,isOpen:o,onCloseRequest:function(){return s(!1)}})]})}var Gt=n(19860),Nt=n(46923),Ut=n(22868),qt=n(28845),Ht=n.n(qt),Yt=n(15122),Vt=n.n(Yt),Jt=n(69099),Kt=n(65033),Qt=n(80455),$t=(0,V.ZP)("div")((function(t){return{flexGrow:1,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column",paddingBottom:t.theme.spacing(2)}})),Xt=(0,V.ZP)("div")((function(t){var e=t.theme;return{display:"flex",alignItems:"center",marginTop:e.spacing(2),padding:e.spacing(0,2.5)}})),te=(0,V.ZP)("div")((function(t){var e=t.theme;return{width:40,height:40,flexShrink:0,display:"flex",overflow:"hidden",alignItems:"center",justifyContent:"center",color:e.palette.text.secondary,borderRadius:e.shape.borderRadius,backgroundColor:e.palette.grey[50016]}})),ee=(0,V.ZP)(Jt.Z)((function(t){var e=t.theme;return(0,h.Z)((0,h.Z)({},e.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:e.spacing(1,2),justifyContent:"space-between",color:e.palette.text.disabled})}));function ne(t){var e=t.conversation,n=t.isCollapse,r=t.onCollapse,i=Ht()(Vt()(e.messages.map((function(t){return t.attachments})))).length;return(0,R.jsxs)($t,{children:[(0,R.jsxs)(ee,{fullWidth:!0,color:"inherit",onClick:r,endIcon:(0,R.jsx)(C.Z,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["attachment (",i,")"]}),!n&&(0,R.jsx)(j.Z,{}),(0,R.jsx)(Ft.Z,{children:(0,R.jsx)(Kt.Z,{in:n,children:e.messages.map((function(t){return(0,R.jsx)("div",{children:t.attachments.map((function(e){return(0,R.jsx)(re,{file:t,fileUrl:e},e)}))},t.id)}))})})]})}function re(t){var e=t.file,n=t.fileUrl;return(0,R.jsxs)(Xt,{children:[(0,R.jsx)(te,{children:(0,Qt.PF)(n)}),(0,R.jsxs)(f.Z,{sx:{ml:1.5,maxWidth:150},children:[(0,R.jsx)(g.Z,{variant:"body2",noWrap:!0,children:(0,Qt.lW)(n)}),(0,R.jsx)(g.Z,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:(0,kt.zM)(e.createdAt)})]})]},n)}var ie=(0,V.ZP)(Jt.Z)((function(t){var e=t.theme;return(0,h.Z)((0,h.Z)({},e.typography.overline),{},{height:40,borderRadius:0,padding:e.spacing(1,2),justifyContent:"space-between",color:e.palette.text.disabled})})),ae=(0,V.ZP)("div")((function(t){return{display:"flex",margin:t.theme.spacing(1.5,0)}})),oe=(0,V.ZP)(C.Z)((function(t){var e=t.theme;return{width:16,height:16,marginTop:4,marginRight:e.spacing(1),color:e.palette.text.secondary}})),se=(0,V.ZP)(g.Z)((function(t){var e=t.theme;return(0,h.Z)({flexGrow:1,maxWidth:160,wordWrap:"break-word"},e.typography.body2)}));function ce(t){var e=t.participants,n=t.isCollapse,r=t.onCollapse,i=(0,rt.Z)(e)[0];return void 0===i?null:(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(f.Z,{sx:{pt:4,pb:3,display:"flex",alignItems:"center",flexDirection:"column"},children:[(0,R.jsx)(Q.Z,{alt:i.name,src:i.avatar,sx:{width:96,height:96}}),(0,R.jsxs)(f.Z,{sx:{mt:2,textAlign:"center"},children:[(0,R.jsx)(g.Z,{variant:"subtitle1",children:i.name}),(0,R.jsx)(g.Z,{variant:"body2",sx:{color:"text.secondary"},children:i.position})]})]}),(0,R.jsx)(j.Z,{}),(0,R.jsx)(ie,{fullWidth:!0,color:"inherit",onClick:r,endIcon:(0,R.jsx)(C.Z,{icon:n?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:"information"}),(0,R.jsx)(Kt.Z,{in:n,children:(0,R.jsxs)(f.Z,{sx:{px:2.5,pb:1},children:[(0,R.jsxs)(ae,{children:[(0,R.jsx)(oe,{icon:"eva:pin-fill"}),(0,R.jsx)(se,{children:i.address})]}),(0,R.jsxs)(ae,{children:[(0,R.jsx)(oe,{icon:"eva:phone-fill"}),(0,R.jsx)(se,{children:i.phone})]}),(0,R.jsxs)(ae,{children:[(0,R.jsx)(oe,{icon:"eva:email-fill"}),(0,R.jsx)(se,{children:i.email})]})]})})]})}var le=n(96467),de=n(32913),ue=(0,V.ZP)("div")((function(t){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:t.theme.spacing(1.5)}}));function he(t){var e=t.participant,n=t.isOpen,r=t.onClose,i=e.name,a=e.avatar,o=e.position,s=e.address,c=e.phone,l=e.email;return(0,R.jsx)(de.Kl,{fullWidth:!0,maxWidth:"xs",open:n,onClose:r,children:(0,R.jsxs)(le.Z,{sx:{pb:5,textAlign:"center"},children:[(0,R.jsx)(Q.Z,{alt:i,src:a,sx:{mt:5,mb:2,mx:"auto",width:96,height:96}}),(0,R.jsx)(g.Z,{variant:"h6",children:i}),(0,R.jsx)(g.Z,{variant:"body2",paragraph:!0,sx:{color:"text.secondary"},children:o}),(0,R.jsxs)(ue,{children:[(0,R.jsx)(C.Z,{icon:"eva:pin-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,R.jsx)(g.Z,{variant:"body2",children:s})]}),(0,R.jsxs)(ue,{children:[(0,R.jsx)(C.Z,{icon:"eva:phone-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,R.jsx)(g.Z,{variant:"body2",children:c})]}),(0,R.jsxs)(ue,{children:[(0,R.jsx)(C.Z,{icon:"eva:email-fill",sx:{mr:1,width:16,height:16,color:"text.disabled"}}),(0,R.jsx)(g.Z,{variant:"body2",children:l})]})]})})}var xe=(0,V.ZP)(Jt.Z)((function(t){var e=t.theme;return(0,h.Z)((0,h.Z)({},e.typography.overline),{},{height:40,borderRadius:0,padding:e.spacing(1,2),justifyContent:"space-between",color:e.palette.text.disabled})}));function pe(t){var e=t.participants,n=t.selectUserId,r=t.onShowPopupUserInfo,i=t.isCollapse,a=t.onCollapse;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(xe,{fullWidth:!0,disableRipple:!0,color:"inherit",onClick:a,endIcon:(0,R.jsx)(C.Z,{icon:i?"eva:arrow-ios-downward-fill":"eva:arrow-ios-forward-fill",width:16,height:16}),children:["In room (",e.length,")"]}),(0,R.jsx)(f.Z,{sx:{height:i?256:0},children:(0,R.jsx)(Ft.Z,{children:(0,R.jsx)(Kt.Z,{in:i,sx:{height:i?256:0},children:(0,R.jsx)(b.Z,{disablePadding:!0,children:e.map((function(t){return(0,R.jsx)(fe,{participant:t,isOpen:n===t.id,onShowPopup:function(){return r(t.id)},onClosePopup:function(){return r(null)}},t.id)}))})})})})]})}function fe(t){var e=t.participant,n=t.isOpen,r=t.onClosePopup,i=t.onShowPopup,a=e.name,o=e.avatar,s=e.status,c=e.position;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(J.Z,{onClick:i,sx:{height:64,px:2.5},children:[(0,R.jsx)(K.Z,{children:(0,R.jsxs)(f.Z,{sx:{position:"relative",width:40,height:40},children:[(0,R.jsx)(Q.Z,{alt:a,src:o}),(0,R.jsx)(P.Z,{status:s,sx:{right:0,bottom:0,position:"absolute"}})]})}),(0,R.jsx)($.Z,{primary:a,secondary:c,primaryTypographyProps:{variant:"subtitle2",noWrap:!0},secondaryTypographyProps:{noWrap:!0}})]}),(0,R.jsx)(he,{participant:e,isOpen:n,onClose:r})]})}var ve=(0,V.ZP)((function(t){return(0,R.jsx)(m.Z,(0,h.Z)({disableRipple:!0},t))}))((function(t){var e=t.theme;return{right:0,zIndex:9,width:32,height:32,position:"absolute",top:e.spacing(1),boxShadow:e.customShadows.z8,backgroundColor:e.palette.background.paper,border:"solid 1px ".concat(e.palette.divider),borderRight:0,borderRadius:"12px 0 0 12px",transition:e.transitions.create("all"),"&:hover":{backgroundColor:e.palette.background.neutral}}})),ge=240;function Ze(t){var e=t.conversation,n=t.participants,i=(0,Gt.Z)(),a=(0,r.useState)(!0),o=(0,x.Z)(a,2),s=o[0],c=o[1],l=(0,r.useState)(!0),d=(0,x.Z)(l,2),u=d[0],p=d[1],v=(0,r.useState)(null),g=(0,x.Z)(v,2),Z=g[0],m=g[1],b=(0,r.useState)(!0),w=(0,x.Z)(b,2),y=w[0],k=w[1],S=(0,r.useState)(!0),I=(0,x.Z)(S,2),P=I[0],M=I[1],T=(0,Ut.Z)("up","lg"),_=n.length>1;(0,r.useEffect)((function(){return T?D():O()}),[T]);var D=function(){c(!0)},O=function(){c(!1)},W=(0,R.jsxs)(R.Fragment,{children:[_?(0,R.jsx)(pe,{selectUserId:Z,participants:n,isCollapse:P,onShowPopupUserInfo:function(t){return m(t)},onCollapse:function(){return M((function(t){return!t}))}}):(0,R.jsx)("div",{children:(0,R.jsx)(ce,{participants:n,isCollapse:u,onCollapse:function(){return p((function(t){return!t}))}})}),(0,R.jsx)(j.Z,{}),(0,R.jsx)(ne,{conversation:e,isCollapse:y,onCollapse:function(){return k((function(t){return!t}))}})]});return(0,R.jsxs)(f.Z,{sx:{position:"relative"},children:[(0,R.jsx)(ve,{onClick:function(){c((function(t){return!t}))},sx:(0,h.Z)({},s&&T&&{right:ge}),children:(0,R.jsx)(C.Z,{width:16,height:16,icon:s?"eva:arrow-ios-forward-fill":"eva:arrow-ios-back-fill"})}),T?(0,R.jsx)(Nt.ZP,{open:s,anchor:"right",variant:"persistent",sx:(0,h.Z)((0,h.Z)({height:1,width:ge,transition:i.transitions.create("width")},!s&&{width:"0px"}),{},{"& .MuiDrawer-paper":{position:"static",width:ge}}),children:W}):(0,R.jsx)(Nt.ZP,{anchor:"right",ModalProps:{keepMounted:!0},open:s,onClose:O,sx:{"& .MuiDrawer-paper":{width:ge}},children:W})]})}function me(t){var e=t.query,n=t.results,r=t.onSelectContact,i=n.length>0;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(g.Z,{paragraph:!0,variant:"subtitle1",sx:{px:3,color:"text.secondary"},children:"Contacts"}),n.map((function(t){return(0,R.jsxs)(J.Z,{onClick:function(){return r(t)},sx:{px:3,py:1.5,typography:"subtitle2"},children:[(0,R.jsx)(Q.Z,{alt:t.name,src:t.avatar,sx:{mr:2}}),t.name]},t.id)})),!i&&(0,R.jsx)(Zt.Z,{searchQuery:e,sx:{p:3,mx:"auto",width:"calc(100% - 48px)",bgcolor:"background.neutral"}})]})}var je=n(15861),be=n(64687),we=n.n(be),ye=n(59864),ke=(0,V.ZP)((function(t){return(0,R.jsx)(m.Z,(0,h.Z)({disableRipple:!0},t))}))((function(t){var e=t.theme;return{left:0,zIndex:9,width:32,height:32,position:"absolute",top:e.spacing(13),borderRadius:"0 12px 12px 0",color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,boxShadow:e.customShadows.primary,"&:hover":{backgroundColor:e.palette.primary.darker}}}));function Ce(){var t=(0,Gt.Z)(),e=(0,at.s0)(),n=(0,at.TH)().pathname,i=(0,r.useState)(!0),a=(0,x.Z)(i,2),s=a[0],l=a[1],d=(0,r.useState)(""),u=(0,x.Z)(d,2),p=u[0],g=u[1],Z=(0,r.useState)([]),j=(0,x.Z)(Z,2),b=j[0],w=j[1],y=(0,r.useState)(!1),k=(0,x.Z)(y,2),S=k[0],I=k[1],P=(0,o.v9)((function(t){return t.chat})),M=P.conversations,_=P.activeConversationId,D=(0,Ut.Z)("up","md"),O=p&&S,A=D&&!s;(0,r.useEffect)((function(){return D?z():B()}),[D,n]),(0,r.useEffect)((function(){if(!s)return I(!1)}),[s]);var z=function(){l(!0)},B=function(){l(!1)},F=function(){l((function(t){return!t}))},E=function(){var t=(0,je.Z)(we().mark((function t(e){var n,r;return we().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.target.value,g(n),!n){t.next=10;break}return t.next=6,ye.Z.get("/api/chat/search",{params:{query:n}});case 6:r=t.sent,w(r.data.results),t.next=11;break;case 10:w([]);case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}(),L=function(t){I(!1),g(""),e(c.vB.chat.view(t))},G=(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(f.Z,{sx:{py:2,px:3},children:[(0,R.jsxs)(v.Z,{direction:"row",alignItems:"center",justifyContent:"center",children:[!A&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(T,{}),(0,R.jsx)(f.Z,{sx:{flexGrow:1}})]}),(0,R.jsx)(m.Z,{onClick:F,children:(0,R.jsx)(C.Z,{width:20,height:20,icon:s?"eva:arrow-ios-back-fill":"eva:arrow-ios-forward-fill"})}),!A&&(0,R.jsx)(m.Z,{onClick:function(){return e(c.vB.chat.new)},children:(0,R.jsx)(C.Z,{icon:"eva:edit-fill",width:20,height:20})})]}),!A&&(0,R.jsx)(W,{query:p,onFocus:function(){I(!0)},onChange:E,onClickAway:function(){I(!1),g("")}})]}),(0,R.jsx)(Ft.Z,{children:O?(0,R.jsx)(me,{query:p,results:b,onSelectContact:function(t){L&&L(t.username)}}):(0,R.jsx)(ct,{conversations:M,isOpenSidebar:s,activeConversationId:_,sx:(0,h.Z)({},S&&{display:"none"})})})]});return(0,R.jsxs)(R.Fragment,{children:[!D&&(0,R.jsx)(ke,{onClick:F,children:(0,R.jsx)(C.Z,{width:16,height:16,icon:"eva:people-fill"})}),D?(0,R.jsx)(Nt.ZP,{open:s,variant:"persistent",sx:(0,h.Z)({width:320,transition:t.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",width:320}},A&&{width:96,"& .MuiDrawer-paper":{width:96,position:"static",transform:"none !important",visibility:"visible !important"}}),children:G}):(0,R.jsx)(Nt.ZP,{ModalProps:{keepMounted:!0},open:s,onClose:B,sx:{"& .MuiDrawer-paper":{width:320}},children:G})]})}function Se(){var t=(0,o.I0)(),e=(0,at.s0)(),n=(0,at.TH)().pathname,i=(0,at.UO)().conversationKey,a=void 0===i?"":i,l=(0,o.v9)((function(t){return t.chat})),d=l.contacts,u=l.recipients,h=l.participants,x=l.activeConversationId,p=(0,o.v9)((function(t){return function(t){var e=t.chat,n=e.conversations,r=e.activeConversationId,i=r?n.byId[r]:null;return i||{id:"",messages:[],participants:[],unreadCount:0,type:""}}(t)})),g=a?"DETAIL":"COMPOSE",Z=h.filter((function(t){return"8864c717-587d-472a-929a-8e5f298024da-0"!==t.id}));(0,r.useEffect)((function(){var n=function(){var n=(0,je.Z)(we().mark((function n(){return we().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t((0,s.aS)(a)),n.prev=1,n.next=4,t((0,s.cc)(a));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0),e(c.vB.chat.new);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}();a?n():x&&t((0,s.PY)())}),[a]),(0,r.useEffect)((function(){x&&t((0,s.R7)(x))}),[t,x]);var m=function(){var e=(0,je.Z)(we().mark((function e(n){return we().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t((0,s.Bs)(n))}catch(r){console.error(r)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,R.jsxs)(v.Z,{sx:{flexGrow:1,minWidth:"1px"},children:["DETAIL"===g?(0,R.jsx)(St,{participants:Z}):(0,R.jsx)(bt,{recipients:u,contacts:Object.values(d.byId),onAddRecipients:function(e){t((0,s.sS)(e))}}),(0,R.jsx)(j.Z,{}),(0,R.jsxs)(f.Z,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:[(0,R.jsxs)(v.Z,{sx:{flexGrow:1},children:[(0,R.jsx)(Lt,{conversation:p}),(0,R.jsx)(j.Z,{}),(0,R.jsx)(Dt,{conversationId:x,onSend:m,disabled:n===c.vB.chat.root||n===c.vB.chat.new})]}),"DETAIL"===g&&(0,R.jsx)(Ze,{conversation:p,participants:Z})]})]})}function Ie(){var t=(0,l.Z)().themeStretch,e=(0,o.I0)();return(0,r.useEffect)((function(){e((0,s.uv)()),e((0,s.K2)())}),[e]),(0,R.jsx)(d.Z,{title:"Chat",children:(0,R.jsxs)(i.Z,{maxWidth:!t&&"xl",children:[(0,R.jsx)(u.Z,{heading:"Chat",links:[{name:"Dashboard",href:c.vB.root},{name:"Chat"}]}),(0,R.jsxs)(a.Z,{sx:{height:"72vh",display:"flex"},children:[(0,R.jsx)(Ce,{}),(0,R.jsx)(Se,{})]})]})})}},80455:function(t,e,n){"use strict";n.d(e,{JB:function(){return p},UO:function(){return f},lW:function(){return v},PF:function(){return Z}});var r=n(25937),i=n(24185),a=n(46417),o=["jpg","jpeg","gif","bmp","png"],s=["m4v","avi","mpg","mp4","webm"],c=["doc","docx"],l=["xls","xlsx"],d=["ppt","pptx"],u=["pdf"],h=["psd"],x=["ai","esp"];function p(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t&&t.split(".").pop()||""}function f(t){return t.substring(t.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"")}function v(t){return t.split("/").pop()}var g=function(t){return(0,a.jsx)(r.Z,{src:"https://minimal-assets-api-dev.vercel.app/assets/icons/file/".concat(t,".svg"),alt:t,sx:{width:28,height:28}})};function Z(t){var e;switch(function(t){var e;switch(t.includes(p(t))){case o.includes(p(t)):e="image";break;case s.includes(p(t)):e="video";break;case c.includes(p(t)):e="word";break;case l.includes(p(t)):e="excel";break;case d.includes(p(t)):e="powerpoint";break;case u.includes(p(t)):e="pdf";break;case h.includes(p(t)):e="photoshop";break;case x.includes(p(t)):e="illustrator";break;default:e=p(t)}return e}(t)){case"video":e=g("format_video");break;case"word":e=g("format_word");break;case"excel":e=g("format_excel");break;case"powerpoint":e=g("format_powerpoint");break;case"pdf":e=g("format_pdf");break;case"photoshop":e=g("format_photoshop");break;case"illustrator":e=g("format_ai");break;case"image":e=(0,a.jsx)(r.Z,{src:t,alt:t,sx:{height:1}});break;default:e=(0,a.jsx)(i.Z,{icon:"eva:file-fill",sx:{width:28,height:28}})}return e}},90419:function(t,e,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}n.d(e,{Z:function(){return r}})},96467:function(t,e,n){"use strict";n.d(e,{Z:function(){return g}});var r=n(4942),i=n(63366),a=n(87462),o=n(47313),s=n(83061),c=n(21921),l=n(17592),d=n(77342),u=n(32298);function h(t){return(0,u.Z)("MuiDialogContent",t)}(0,n(77430).Z)("MuiDialogContent",["root","dividers"]);var x=n(93174),p=n(46417),f=["className","dividers"],v=(0,l.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(t,e){var n=t.ownerState;return[e.root,n.dividers&&e.dividers]}})((function(t){var e=t.theme,n=t.ownerState;return(0,a.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((e.vars||e).palette.divider),borderBottom:"1px solid ".concat((e.vars||e).palette.divider)}:(0,r.Z)({},".".concat(x.Z.root," + &"),{paddingTop:0}))})),g=o.forwardRef((function(t,e){var n=(0,d.Z)({props:t,name:"MuiDialogContent"}),r=n.className,o=n.dividers,l=void 0!==o&&o,u=(0,i.Z)(n,f),x=(0,a.Z)({},n,{dividers:l}),g=function(t){var e=t.classes,n={root:["root",t.dividers&&"dividers"]};return(0,c.Z)(n,h,e)}(x);return(0,p.jsx)(v,(0,a.Z)({className:(0,s.Z)(g.root,r),ownerState:x,ref:e},u))}))},93174:function(t,e,n){"use strict";n.d(e,{a:function(){return i}});var r=n(32298);function i(t){return(0,r.Z)("MuiDialogTitle",t)}var a=(0,n(77430).Z)("MuiDialogTitle",["root"]);e.Z=a},28845:function(t,e,n){var r=n(7579);t.exports=function(t){return t&&t.length?r(t):[]}}}]);